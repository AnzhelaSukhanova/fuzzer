// INVOCATOR_FAIL
// result:[-p, library, -o, lib.klib, projectTmp/oldKlib.kt]
// result:[-p, library, -l, lib.klib, -o, main.klib, projectTmp/main.kt]

// files
// main.kt
// isKlib=false
fun main() {


val fovvr: Tagyr = Tagyr()
val wmbuz: Gtmcm = Gtmcm
val ftcrn: String = box()
val tmsad: Double = fovvr.zbhd
}
// oldKlib.kt
// isKlib=true
fun box() : String {
    val a  = "lala"
    if(a !== a) return "fail 1"
    if(a === a) return "OK"
    return "fail 2"
}
class Tagyr{
val Double.zbhd: Short  
get() =  TODO()
}
object Gtmcm
// newKlib.kt
// isKlib=true
fun box() : String {
    val a  = "lala"
    if(a !== a) return "fail 1"
    if(a === a) return "OK"
    return "fail 2"
}
class Tagyr{
val Double.zbhd: Short  
get() =  TODO()
class Ojuak
}
object Gtmcm


Combined output:
====================
Unresolved reference: zbhd